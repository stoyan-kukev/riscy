var stack: align(16) [4096]u8 = undefined;

const Uart = struct.c_abi {
    rx: u8,
    tx: u8,
    status: u8,
    control: u8,
};

const UartPtr = ~allowzero Uart;
const uart_ptr: UartPtr = 0x1000_0000;
const buffer_ptr: [~]u8 = 0x2000_0000;

const Flags = struct.packed {
    a: bool,
    b: bool,
    c: bool,
    d: bool,
    e: bool,
    f: bool,
    g: bool,
    h: bool,
};

pub const main = fn() void {
    uart_ptr.tx = 0xFF;
    buffer_ptr[0] = 0xAA;
    const local_ptr: *u8 = &stack[0];
    local_ptr.* = (0x01 & 0x02) ^ -1;
};
